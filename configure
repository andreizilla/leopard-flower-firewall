#! /bin/bash

#This script produces header.h with #defines depending on the passed in
#argument

#empty the file
> header.h

for i in $*
do
	case $i in
	--disable-sysvipc)
		echo "/* Disable IPC between backend and frontend */" >> header.h
		echo "#define WITHOUT_SYSVIPC" >> header.h
		;;
	--disable-syslog)
		echo "/* Disable logging to syslog */" >> header.h
		echo "#define WITHOUT_SYSLOG" >> header.h
		;;
	--help)
		echo "Accepted options:"
		echo "--disable-sysvipc"
		echo "--disable-syslog"
	esac
done
